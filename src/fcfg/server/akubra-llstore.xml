<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
  <bean name="fedora.server.storage.lowlevel.ILowlevelStorage"
        class="fedora.server.storage.lowlevel.akubra.AkubraLowlevelStorage"
        singleton="true">
    <constructor-arg>
      <description>The store of serialized Fedora objects</description>
      <ref bean="objectStore"/>
    </constructor-arg>
    <constructor-arg>
      <description>The store of datastream content</description>
      <ref bean="datastreamStore"/>
    </constructor-arg>
    <constructor-arg value="true">
      <description>if true, replaceObject calls will be done in a way that
      ensures the old content is not deleted until the new content is safely
      written. If the objectStore already does this, this should be given as
      false</description>
    </constructor-arg>
    <constructor-arg value="true">
      <description>save as above, but for datastreamStore</description>
    </constructor-arg>
  </bean>
  
  <bean name="objectStore"
        class="org.fedoracommons.akubra.mem.MemBlobStore"
        singleton="true">
  </bean>

  <bean name="datastreamStore"
        class="org.fedoracommons.akubra.mem.MemBlobStore"
        singleton="true">
  </bean>

</beans>
